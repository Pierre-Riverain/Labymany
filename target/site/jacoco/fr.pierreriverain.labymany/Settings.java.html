<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Settings.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Labymany</a> &gt; <a href="index.source.html" class="el_package">fr.pierreriverain.labymany</a> &gt; <span class="el_source">Settings.java</span></div><h1>Settings.java</h1><pre class="source lang-java linenums">package fr.pierreriverain.labymany;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.io.Serializable;

import javax.imageio.ImageIO;

import org.jnativehook.keyboard.NativeKeyEvent;

import fr.pierreriverain.maze.MazeCursor;

/**
 * Cette classe Java beans permet d'enregistrer les différents paramètres de jeu.
 * @author Pierre Riverain
 */
public class Settings implements Serializable, Cloneable {

	/**
	 * Ce long contient le délai de l'animation de la génération du labyrinthe.
	 */
<span class="nc" id="L25">	private int mazeGenerationDelayAnimation = 10;</span>
	
	/**
	 * Cet entier contient l'identifiant de la touche permettant de faire déplacer le pion du joueur d'une case vers la gauche.
	 */
<span class="nc" id="L30">	private int keyPlayLeft = NativeKeyEvent.VC_LEFT;</span>
	
	/**
	 * Cet entier contient l'identifiant de la touche permettant de faire déplacer le pion du joueur d'une case vers la droite.
	 */
<span class="nc" id="L35">	private int keyPlayRight = NativeKeyEvent.VC_RIGHT;</span>
	
	/**
	 * Cet entier contient l'identifiant de la touche permettant de faire déplacer le pion du joueur d'une case vers le haut.
	 */
<span class="nc" id="L40">	private int keyPlayUp = NativeKeyEvent.VC_UP;</span>
	
	/**
	 * Cet entier contient l'identifiant de la touche permettant de faire déplacer le pion du joueur d'une case vers le bas.
	 */
<span class="nc" id="L45">	private int keyPlayDown = NativeKeyEvent.VC_DOWN;</span>
	
	/**
	 * Cet objet contient toutes les informations du dossier où se trouvent une parties des images du jeu.
	 */
<span class="nc" id="L50">	private File pictureFolder = new File(&quot;pictures&quot;);</span>
	
	/**
	 * Cet objet contient toutes les informations de l'emplacement de l'image du curseur du générateur.
	 */
<span class="nc" id="L55">	private File generatorCursorImageFile = new File(&quot;pictures&quot;, &quot;generatorCursor.png&quot;);</span>
	
	/**
	 * Cet objet contient toutes les informations de l'emplacement de l'image du pion du joueur.
	 */
<span class="nc" id="L60">	private File playerCursorImageFile = new File(&quot;pictures&quot;, &quot;playerCursor.png&quot;);</span>
	
	/**
	 * Cet objet contient toutes les informations de l'emplacement de l'image de l'arrivée.
	 */
<span class="nc" id="L65">	private File playerWinCursorImageFile = new File(&quot;pictures&quot;, &quot;playerWinCursor.png&quot;);</span>
	
	/**
	 * Cet objet représente le curseur de génération du labyrinthe. Il est utilisé lors de la création des images du labyrinthe durant la génération.
	 * Par défaut, l'image du curseur est un cercle orange.
	 */
	private volatile MazeCursor generatorCursor;
	
	/**
	 * Cet objet représente le curseur du joueur. Il est utilisé lors de la création des images du labyrinthe lorsque l'application est en mode de jeu afin de représenter la position du joueur
	 * dans le labyrinthe.
	 * Par défaut, l'image du curseur est un cercle bleue.
	 */
	private volatile MazeCursor playerCursor;
	
	/**
	 * Cet objet représente le curseur de l'arrivé à atteindre par le joueur. Il est utilisé lors de la création des images du labyrinthe lorsque l'application est en mode de jeu afin de 
	 * représenter l'arrivé dans le labyrinthe.
	 * Par défaut, l'image du curseur est un cercle vert. 
	 */
	private volatile MazeCursor playerWinCursor;
	
	public Settings() {
<span class="nc" id="L88">		super();</span>
<span class="nc" id="L89">	}</span>

	/**
	 * Cet accesseur permet d'obtenir le délai entre chaque étape de la génération du labyrinthe en millisecondes. 
	 * Par défaut, cette valeur est à 0.
	 * @return Le délai entre chaque étape de la génération.
	 */
	public int getMazeGenerationDelayAnimation() {
<span class="nc" id="L97">		return mazeGenerationDelayAnimation;</span>
	}

	/**
	 * Ce muttateur permet de définir le délai entre chaque étape de la génération du labyrinthe en millisecondes. Si ce délai est supérieur à 0, il est possible de générer une animation de génération.
	 * Si la valeur défini est inférieur à 0 (négative), 0 est défini.
	 * @param mazeGenerationDelayAnimation Le délai entre chaque étape de la génération.
	 */
	public void setMazeGenerationDelayAnimation(int mazeGenerationDelayAnimation) {
<span class="nc bnc" id="L106" title="All 2 branches missed.">		if (mazeGenerationDelayAnimation &lt; 0) {</span>
<span class="nc" id="L107">			this.mazeGenerationDelayAnimation = 0;</span>
		}
<span class="nc" id="L109">		this.mazeGenerationDelayAnimation = mazeGenerationDelayAnimation;</span>
<span class="nc" id="L110">	}</span>

	/**
	 * Cet accesseur permet d'obtenir la valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers la gauche.
	 * @return La valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers la gauche.
	 */
	public int getKeyPlayLeft() {
<span class="nc" id="L117">		return keyPlayLeft;</span>
	}

	/**
	 * Ce muttateur permet de définir la valeur de la touche pour faire déplacer le pion du joueur d'une case vers la gauche.
	 * @param keyPlayLeft La valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers la gauche.
	 */
	public void setKeyPlayLeft(int keyPlayLeft) {
<span class="nc" id="L125">		this.keyPlayLeft = keyPlayLeft;</span>
<span class="nc" id="L126">	}</span>

	/**
	 * Cet accesseur permet d'obtenir la valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers la droite.
	 * @return La valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers la droite.
	 */
	public int getKeyPlayRight() {
<span class="nc" id="L133">		return keyPlayRight;</span>
	}

	/**
	 * Ce muttateur permet de définir la valeur de la touche pour faire déplacer le pion du joueur d'une case vers la droite.
	 * @param keyPlayRight La valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers la droite.
	 */
	public void setKeyPlayRight(int keyPlayRight) {
<span class="nc" id="L141">		this.keyPlayRight = keyPlayRight;</span>
<span class="nc" id="L142">	}</span>

	/**
	 * Cet accesseur permet d'obtenir la valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers le haut.
	 * @return La valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers le haut.
	 */
	public int getKeyPlayUp() {
<span class="nc" id="L149">		return keyPlayUp;</span>
	}

	/**
	 * Ce muttateur permet de définir la valeur de la touche pour faire déplacer le pion du joueur d'une case vers le haut.
	 * @param keyPlayUp La valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers le haut.
	 */
	public void setKeyPlayUp(int keyPlayUp) {
<span class="nc" id="L157">		this.keyPlayUp = keyPlayUp;</span>
<span class="nc" id="L158">	}</span>

	/**
	 * Cet accesseur permet d'obtenir la valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers le bas.
	 * @return La valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers le bas.
	 */
	public int getKeyPlayDown() {
<span class="nc" id="L165">		return keyPlayDown;</span>
	}

	/**
	 * Ce muttateur permet de définir la valeur de la touche pour faire déplacer le pion du joueur d'une case vers le bas.
	 * @param keyPlayDown La valeur de la touche défini pour faire déplacer le pion du joueur d'une case vers le bas.
	 */
	public void setKeyPlayDown(int keyPlayDown) {
<span class="nc" id="L173">		this.keyPlayDown = keyPlayDown;</span>
<span class="nc" id="L174">	}</span>

	/**
	 * Cet accesseur permet d'obtenir les informations sur le dossier qui contient une partie des images.
	 * @return Les informations du dossier qui contient une partie des images.
	 */
	public File getPictureFolder() {
<span class="nc" id="L181">		return pictureFolder;</span>
	}

	/**
	 * Cet accesseur permet d'obtenir les informations sur l'emplacement de l'image du curseur de génération.
	 * @return Les informations sur l'emplacement de l'image du curseur de génération.
	 */
	public File getGeneratorCursorImageFile() {
<span class="nc" id="L189">		return generatorCursorImageFile;</span>
	}

	/**
	 * Cet accesseur permet d'obtenir les informations sur l'emplacement de l'image du pion du joeur.
	 * @return Les informations sur l'emplacement de l'image du pion du joueur.
	 */
	public File getPlayerCursorImageFile() {
<span class="nc" id="L197">		return playerCursorImageFile;</span>
	}

	/**
	 * Cet accesseur permet d'obtenir les informations sur l'emplacement de l'image de l'arrivée.
	 * @return Les informations sur l'emplacement de l'image de l'arrivée.
	 */
	public File getPlayerWinCursorImageFile() {
<span class="nc" id="L205">		return playerWinCursorImageFile;</span>
	}

	/**
	 * Cet accesseur permet d'obtenir l'instance du curseur de génération. Ce curseur est utilisé pour la création des images pendant la génération du labyrinthe.
	 * @return L'instance de &lt;code&gt;generatorCursor&lt;/code&gt;.
	 */
	public MazeCursor getGeneratorCursor() {
<span class="nc" id="L213">		return generatorCursor;</span>
	}

	/**
	 * Ce muttateur permet de définir une nouvelle instance du curseur de génération. Ce curseur sera utilisé pour la création des images pendant la génération du labyrinthe.
	 * @param generatorCursor La nouvelle instance de &lt;code&gt;generatorCursor&lt;/code&gt;.
	 */
	public void setGeneratorCursor(MazeCursor generatorCursor) {
<span class="nc" id="L221">		this.generatorCursor = generatorCursor;</span>
<span class="nc" id="L222">	}</span>

	/**
	 * Cet accesseur permet d'obtenir l'instance du curseur du joueur. Ce curseur est utilisé lorsque l'application est en mode de jeu afin de représenter la position du joueur dans le labyrinthe.
	 * @return L'instance de &lt;code&gt;playerCursor&lt;/code&gt;.
	 */
	public MazeCursor getPlayerCursor() {
<span class="nc" id="L229">		return playerCursor;</span>
	}

	/**
	 * Ce muttateur permet de définir une nouvelle instance du curseur du joueur. Ce curseur est utilisé lorsque l'application est en mode de jeu afin de représenter ma position du joueur dans le
	 * labyrinthe.
	 * @param playerCursor L'instance de &lt;code&gt;playerCursor&lt;/code&gt;.
	 */
	public void setPlayerCursor(MazeCursor playerCursor) {
<span class="nc" id="L238">		this.playerCursor = playerCursor;</span>
<span class="nc" id="L239">	}</span>

	/**
	 * Cet accesseur permet d'obtenir l'instance du curseur de l'arrivé à atteindre par le joueur. Il est utilisé lors de la création des images du labyrinthe lorsque l'application est 
	 * en mode de jeu afin de représenter l'arrivé dans le labyrinthe.
	 * @return the playerWinCursor L'instance de &lt;code&gt;playerWinCursor&lt;/code&gt;.
	 */
	public MazeCursor getPlayerWinCursor() {
<span class="nc" id="L247">		return playerWinCursor;</span>
	}

	/**
	 * Ce muttateur permet de définir une nouvelle instance du curseur de l'arrivé à atteindre par le joueur. Il est utilisé lors de la création des images du labyrinthe lorsque l'application est 
	 * en mode de jeu afin de représenter l'arrivé dans le labyrinthe.
	 * @param playerWinCursor L'instance de &lt;code&gt;playerWinCursor&lt;/code&gt;.
	 */
	public void setPlayerWinCursor(MazeCursor playerWinCursor) {
<span class="nc" id="L256">		this.playerWinCursor = playerWinCursor;</span>
<span class="nc" id="L257">	}</span>
	
	/**
	 * Cette méthode permet de charger les images du jeu.
	 */
	public void loadPictures() {

<span class="nc" id="L264">		generatorCursor = new MazeCursor();</span>
<span class="nc" id="L265">		playerCursor = new MazeCursor();</span>
<span class="nc" id="L266">		playerWinCursor = new MazeCursor();</span>
		
		//Ce booléen indique si le chargement de l'image s'est bien effectué. S'il ne l'est pas, l'image par défaut est chargée.
<span class="nc" id="L269">				boolean cursorGeneratorImageLoaded = false;</span>
<span class="nc" id="L270">				BufferedImage cursorGeneratorImage = null;</span>
				try {
<span class="nc bnc" id="L272" title="All 2 branches missed.">					if (generatorCursorImageFile.exists()) {</span>
<span class="nc" id="L273">						cursorGeneratorImage = ImageIO.read(generatorCursorImageFile);</span>
<span class="nc" id="L274">						cursorGeneratorImageLoaded = true;</span>
					}
<span class="nc" id="L276">				} catch (IOException e) {</span>
<span class="nc" id="L277">					Labymany.showError(e, &quot;L'erreur suivante s'est produite pendant le chargement de l'image du curseur de génération, l'image par défaut est chargé. Désolé pour le désagrément encouru : &quot;);</span>
<span class="nc" id="L278">				}</span>
<span class="nc bnc" id="L279" title="All 2 branches missed.">				if (!cursorGeneratorImageLoaded) {</span>
<span class="nc" id="L280">					cursorGeneratorImage = new BufferedImage(128, 128, BufferedImage.TYPE_INT_ARGB);</span>
<span class="nc" id="L281">					Graphics cursorGeneratorImageGraphics = cursorGeneratorImage.getGraphics();</span>
<span class="nc" id="L282">					cursorGeneratorImageGraphics.setColor(Color.ORANGE);</span>
<span class="nc" id="L283">					cursorGeneratorImageGraphics.fillOval(0, 0, cursorGeneratorImage.getWidth(), cursorGeneratorImage.getHeight());</span>
				}
				
<span class="nc" id="L286">				generatorCursor.setMazeCursorPicture(cursorGeneratorImage);</span>
				
				//Ce booléen indique si le chargement de l'image s'est bien effectué. S'il ne l'est pas, l'image par défaut est chargée.
<span class="nc" id="L289">				boolean cursorPlayerImageLoaded = false;</span>
<span class="nc" id="L290">				BufferedImage cursorPlayerImage = null;</span>
				try {
<span class="nc bnc" id="L292" title="All 2 branches missed.">					if (playerCursorImageFile.exists()) {</span>
<span class="nc" id="L293">						cursorPlayerImage = ImageIO.read(playerCursorImageFile);</span>
<span class="nc" id="L294">						cursorPlayerImageLoaded = true;</span>
					}
<span class="nc" id="L296">				} catch (IOException e) {</span>
<span class="nc" id="L297">					Labymany.showError(e, &quot;L'erreur suivante s'est produite pendant le chargement de l'image du pion du joueur, l'image par défaut est chargé. Désolé pour le désagrément encouru : &quot;);</span>
<span class="nc" id="L298">				}</span>
<span class="nc bnc" id="L299" title="All 2 branches missed.">				if (!cursorPlayerImageLoaded) {</span>
<span class="nc" id="L300">					cursorPlayerImage = new BufferedImage(128, 128, BufferedImage.TYPE_INT_ARGB);</span>
<span class="nc" id="L301">					Graphics cursorPlayerImageGraphics = cursorPlayerImage.getGraphics();</span>
<span class="nc" id="L302">					cursorPlayerImageGraphics.setColor(Color.BLUE);</span>
<span class="nc" id="L303">					cursorPlayerImageGraphics.fillOval(0, 0, cursorPlayerImage.getWidth(), cursorPlayerImage.getHeight());</span>
				}
<span class="nc" id="L305">				playerCursor.setMazeCursorPicture(cursorPlayerImage);</span>
				
				//Ce booléen indique si le chargement de l'image s'est bien effectué. S'il ne l'est pas, l'image par défaut est chargée.
<span class="nc" id="L308">				boolean cursorPlayerWinImageLoaded = false;</span>
<span class="nc" id="L309">				BufferedImage cursorPlayerWinImage = null;</span>
				try {
<span class="nc bnc" id="L311" title="All 2 branches missed.">					if (playerWinCursorImageFile.exists()) {</span>
<span class="nc" id="L312">						cursorPlayerWinImage = ImageIO.read(playerWinCursorImageFile);</span>
<span class="nc" id="L313">						cursorPlayerWinImageLoaded = true;</span>
					}
<span class="nc" id="L315">				} catch (IOException e) {</span>
<span class="nc" id="L316">					Labymany.showError(e, &quot;L'erreur suivante s'est produite pendant le chargement de l'image de l'arrivée, l'image par défaut. Désolé pour le désagrément encouru : &quot;);</span>
<span class="nc" id="L317">				}</span>
<span class="nc bnc" id="L318" title="All 2 branches missed.">				if (!cursorPlayerWinImageLoaded) {</span>
<span class="nc" id="L319">					cursorPlayerWinImage = new BufferedImage(128, 128, BufferedImage.TYPE_INT_ARGB);</span>
<span class="nc" id="L320">					Graphics cursorPlayerWinImageGraphics = cursorPlayerWinImage.getGraphics();</span>
<span class="nc" id="L321">					cursorPlayerWinImageGraphics.setColor(Color.GREEN);</span>
<span class="nc" id="L322">					cursorPlayerWinImageGraphics.fillOval(0, 0, cursorPlayerWinImage.getWidth(), cursorPlayerWinImage.getHeight());</span>
				}
<span class="nc" id="L324">				playerWinCursor.setMazeCursorPicture(cursorPlayerWinImage);</span>
<span class="nc" id="L325">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>